{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivanmuccini/Apps/Antigravity/chat/chat/app/admin/dashboard/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/db';\nimport { createTenantAction, deleteTenantAction, updateTenantAction } from '@/app/actions/adminTenant';\nimport { logoutAction } from '@/app/actions/adminAuth';\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\n\nexport default async function AdminDashboard() {\n    const cookieStore = await cookies();\n    if (!cookieStore.get('admin_session')) {\n        redirect('/admin/login');\n    }\n\n    const tenants = await prisma.tenant.findMany({\n        include: { devices: true },\n        orderBy: { createdAt: 'desc' }\n    });\n\n    return (\n        <div className=\"min-h-screen bg-gray-50\">\n            <nav className=\"bg-white shadow p-4 flex justify-between items-center\">\n                <h1 className=\"text-xl font-bold\">Admin Dashboard</h1>\n                <form action={logoutAction}>\n                    <button className=\"text-red-600 hover:text-red-800\">Logout</button>\n                </form>\n            </nav>\n\n            <main className=\"max-w-6xl mx-auto p-8\">\n                <div className=\"bg-white p-6 rounded shadow mb-8\">\n                    <h2 className=\"text-lg font-semibold mb-4\">Create New Tenant</h2>\n                    <form action={createTenantAction} className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                        <input name=\"name\" placeholder=\"Tenant Name\" required className=\"border p-2 rounded\" />\n                        <input name=\"slug\" placeholder=\"URL Slug\" required className=\"border p-2 rounded\" />\n                        <input name=\"nasIds\" placeholder=\"NAS IDs (comma separated)\" className=\"border p-2 rounded\" />\n                        <button className=\"bg-green-600 text-white p-2 rounded hover:bg-green-700\">Create</button>\n                    </form>\n                </div>\n\n                <div className=\"grid gap-6\">\n                    {tenants.map(tenant => (\n                        <div key={tenant.id} className=\"bg-white p-6 rounded shadow relative\">\n                            <form action={deleteTenantAction} className=\"absolute top-4 right-4\">\n                                <input type=\"hidden\" name=\"id\" value={tenant.id} />\n                                <button className=\"text-red-500 hover:text-red-700 text-sm\">Delete</button>\n                            </form>\n\n                            <form action={updateTenantAction} className=\"space-y-4\">\n                                <input type=\"hidden\" name=\"id\" value={tenant.id} />\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div>\n                                        <label className=\"block text-xs uppercase text-gray-500 mb-1\">Name</label>\n                                        <input name=\"name\" defaultValue={tenant.name} className=\"w-full border p-2 rounded\" />\n                                    </div>\n                                    <div>\n                                        <label className=\"block text-xs uppercase text-gray-500 mb-1\">Slug</label>\n                                        <input name=\"slug\" defaultValue={tenant.slug} className=\"w-full border p-2 rounded\" />\n                                    </div>\n                                </div>\n                                <div>\n                                    <label className=\"block text-xs uppercase text-gray-500 mb-1\">NAS IDs (Comma Separated)</label>\n                                    <input\n                                        name=\"nasIds\"\n                                        defaultValue={tenant.devices.map(d => d.nasId).join(', ')}\n                                        className=\"w-full border p-2 rounded font-mono text-sm\"\n                                    />\n                                </div>\n                                <div className=\"flex justify-end\">\n                                    <button className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm\">Update</button>\n                                </div>\n                            </form>\n                        </div>\n                    ))}\n                    {tenants.length === 0 && <p className=\"text-gray-500 text-center\">No tenants found.</p>}\n                </div>\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAEe,eAAe;IAC1B,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,IAAI,CAAC,YAAY,GAAG,CAAC,kBAAkB;QACnC,IAAA,iMAAQ,EAAC;IACb;IAEA,MAAM,UAAU,MAAM,mHAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QACzC,SAAS;YAAE,SAAS;QAAK;QACzB,SAAS;YAAE,WAAW;QAAO;IACjC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,8OAAC;wBAAK,QAAQ,2IAAY;kCACtB,cAAA,8OAAC;4BAAO,WAAU;sCAAkC;;;;;;;;;;;;;;;;;0BAI5D,8OAAC;gBAAK,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAK,QAAQ,mJAAkB;gCAAE,WAAU;;kDACxC,8OAAC;wCAAM,MAAK;wCAAO,aAAY;wCAAc,QAAQ;wCAAC,WAAU;;;;;;kDAChE,8OAAC;wCAAM,MAAK;wCAAO,aAAY;wCAAW,QAAQ;wCAAC,WAAU;;;;;;kDAC7D,8OAAC;wCAAM,MAAK;wCAAS,aAAY;wCAA4B,WAAU;;;;;;kDACvE,8OAAC;wCAAO,WAAU;kDAAyD;;;;;;;;;;;;;;;;;;kCAInF,8OAAC;wBAAI,WAAU;;4BACV,QAAQ,GAAG,CAAC,CAAA,uBACT,8OAAC;oCAAoB,WAAU;;sDAC3B,8OAAC;4CAAK,QAAQ,mJAAkB;4CAAE,WAAU;;8DACxC,8OAAC;oDAAM,MAAK;oDAAS,MAAK;oDAAK,OAAO,OAAO,EAAE;;;;;;8DAC/C,8OAAC;oDAAO,WAAU;8DAA0C;;;;;;;;;;;;sDAGhE,8OAAC;4CAAK,QAAQ,mJAAkB;4CAAE,WAAU;;8DACxC,8OAAC;oDAAM,MAAK;oDAAS,MAAK;oDAAK,OAAO,OAAO,EAAE;;;;;;8DAC/C,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;;8EACG,8OAAC;oEAAM,WAAU;8EAA6C;;;;;;8EAC9D,8OAAC;oEAAM,MAAK;oEAAO,cAAc,OAAO,IAAI;oEAAE,WAAU;;;;;;;;;;;;sEAE5D,8OAAC;;8EACG,8OAAC;oEAAM,WAAU;8EAA6C;;;;;;8EAC9D,8OAAC;oEAAM,MAAK;oEAAO,cAAc,OAAO,IAAI;oEAAE,WAAU;;;;;;;;;;;;;;;;;;8DAGhE,8OAAC;;sEACG,8OAAC;4DAAM,WAAU;sEAA6C;;;;;;sEAC9D,8OAAC;4DACG,MAAK;4DACL,cAAc,OAAO,OAAO,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,EAAE,IAAI,CAAC;4DACpD,WAAU;;;;;;;;;;;;8DAGlB,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC;wDAAO,WAAU;kEAAqE;;;;;;;;;;;;;;;;;;mCA3BzF,OAAO,EAAE;;;;;4BAgCtB,QAAQ,MAAM,KAAK,mBAAK,8OAAC;gCAAE,WAAU;0CAA4B;;;;;;;;;;;;;;;;;;;;;;;;AAKtF"}}]
}