{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivanmuccini/Apps/Antigravity/chat/chat/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,sMAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivanmuccini/Apps/Antigravity/chat/chat/app/actions/adminTenant.ts"],"sourcesContent":["'use server';\n\nimport { prisma } from '@/lib/db';\nimport { revalidatePath } from 'next/cache';\n\nexport async function createTenantAction(formData: FormData) {\n    const name = formData.get('name') as string;\n    const slug = formData.get('slug') as string;\n    const nasIds = (formData.get('nasIds') as string).split(',').map(s => s.trim()).filter(Boolean);\n\n    await prisma.tenant.create({\n        data: {\n            name,\n            slug,\n            devices: {\n                create: nasIds.map(nasId => ({ nasId }))\n            }\n        }\n    });\n    revalidatePath('/admin/dashboard');\n}\n\nexport async function updateTenantAction(formData: FormData) {\n    const id = formData.get('id') as string;\n    const name = formData.get('name') as string;\n    const slug = formData.get('slug') as string;\n    const nasIds = (formData.get('nasIds') as string).split(',').map(s => s.trim()).filter(Boolean);\n\n    // Update basic info\n    await prisma.tenant.update({\n        where: { id },\n        data: { name, slug }\n    });\n\n    // Since we want to sync the list of NAS IDs, we delete old ones and re-create for simplicity\n    // Ideally, we'd diff them, but this is an MVP\n    await prisma.nasDevice.deleteMany({ where: { tenantId: id } });\n\n    if (nasIds.length > 0) {\n        await prisma.nasDevice.createMany({\n            data: nasIds.map(nasId => ({ nasId, tenantId: id }))\n        });\n    }\n\n    revalidatePath('/admin/dashboard');\n}\n\nexport async function deleteTenantAction(formData: FormData) {\n    const id = formData.get('id') as string;\n    await prisma.tenant.delete({ where: { id } });\n    revalidatePath('/admin/dashboard');\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;;;AAEO,eAAe,mBAAmB,QAAkB;IACvD,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,SAAS,AAAC,SAAS,GAAG,CAAC,UAAqB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,MAAM,CAAC;IAEvF,MAAM,mHAAM,CAAC,MAAM,CAAC,MAAM,CAAC;QACvB,MAAM;YACF;YACA;YACA,SAAS;gBACL,QAAQ,OAAO,GAAG,CAAC,CAAA,QAAS,CAAC;wBAAE;oBAAM,CAAC;YAC1C;QACJ;IACJ;IACA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,mBAAmB,QAAkB;IACvD,MAAM,KAAK,SAAS,GAAG,CAAC;IACxB,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,SAAS,AAAC,SAAS,GAAG,CAAC,UAAqB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,MAAM,CAAC;IAEvF,oBAAoB;IACpB,MAAM,mHAAM,CAAC,MAAM,CAAC,MAAM,CAAC;QACvB,OAAO;YAAE;QAAG;QACZ,MAAM;YAAE;YAAM;QAAK;IACvB;IAEA,6FAA6F;IAC7F,8CAA8C;IAC9C,MAAM,mHAAM,CAAC,SAAS,CAAC,UAAU,CAAC;QAAE,OAAO;YAAE,UAAU;QAAG;IAAE;IAE5D,IAAI,OAAO,MAAM,GAAG,GAAG;QACnB,MAAM,mHAAM,CAAC,SAAS,CAAC,UAAU,CAAC;YAC9B,MAAM,OAAO,GAAG,CAAC,CAAA,QAAS,CAAC;oBAAE;oBAAO,UAAU;gBAAG,CAAC;QACtD;IACJ;IAEA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,mBAAmB,QAAkB;IACvD,MAAM,KAAK,SAAS,GAAG,CAAC;IACxB,MAAM,mHAAM,CAAC,MAAM,CAAC,MAAM,CAAC;QAAE,OAAO;YAAE;QAAG;IAAE;IAC3C,IAAA,+IAAc,EAAC;AACnB;;;IA9CsB;IAiBA;IAyBA;;AA1CA,+OAAA;AAiBA,+OAAA;AAyBA,+OAAA"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivanmuccini/Apps/Antigravity/chat/chat/app/actions/adminAuth.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\n\nexport async function loginAction(state: any, formData: FormData) {\n    const password = formData.get('password');\n    const username = formData.get('username');\n\n    // Hardcoded credentials as requested\n    if (username === 'admin' && password === 'admin') {\n        (await cookies()).set('admin_session', 'true', { httpOnly: true, path: '/' });\n        redirect('/admin/dashboard');\n    } else {\n        return { error: 'Invalid credentials' };\n    }\n}\n\nexport async function logoutAction() {\n    (await cookies()).delete('admin_session');\n    redirect('/admin/login');\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;;;;;AAEO,eAAe,YAAY,KAAU,EAAE,QAAkB;IAC5D,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,qCAAqC;IACrC,IAAI,aAAa,WAAW,aAAa,SAAS;QAC9C,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,GAAG,CAAC,iBAAiB,QAAQ;YAAE,UAAU;YAAM,MAAM;QAAI;QAC3E,IAAA,iMAAQ,EAAC;IACb,OAAO;QACH,OAAO;YAAE,OAAO;QAAsB;IAC1C;AACJ;AAEO,eAAe;IAClB,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,MAAM,CAAC;IACzB,IAAA,iMAAQ,EAAC;AACb;;;IAhBsB;IAaA;;AAbA,+OAAA;AAaA,+OAAA"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivanmuccini/Apps/Antigravity/chat/chat/.next-internal/server/app/admin/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {updateTenantAction as '40bdb7c9865e96a390e2546499f14eca46e340eb79'} from 'ACTIONS_MODULE0'\nexport {deleteTenantAction as '40c050bf77f2896f4527a748e19af19c5226df4064'} from 'ACTIONS_MODULE0'\nexport {createTenantAction as '40d7d6cc51d97c2551b22a9a4cb62656e69da719f9'} from 'ACTIONS_MODULE0'\nexport {logoutAction as '00a96e91912ce22505e91ba3e821e124f0093a1553'} from 'ACTIONS_MODULE1'\nexport {loginAction as '608a9a4a1e8f16f1753efaaa81f0473057c13c9d66'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAGA"}}]
}