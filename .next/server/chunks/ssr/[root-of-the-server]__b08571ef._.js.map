{"version":3,"sources":["../../../../app/%5BtenantSlug%5D/TenantChatClient.tsx/__nextjs-internal-proxy.mjs","../../../../app/%5BtenantSlug%5D/page.tsx","../../../../lib/db.ts"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/[tenantSlug]/TenantChatClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/[tenantSlug]/TenantChatClient.tsx\",\n    \"default\",\n);\n","import TenantChatClient from \"./TenantChatClient\";\nimport { prisma } from \"@/lib/db\";\n\nexport default function TenantChatPage() {\n    return <TenantChatClient />;\n}\n\n// Dynamic fallback: must be false for output: export\nexport const dynamicParams = false;\n\n// Generate static pages for all tenants in the database at build time\nexport async function generateStaticParams() {\n    try {\n        const tenants = await prisma.tenant.findMany({\n            select: { slug: true }\n        });\n\n        // Always include these as fallback in case DB is empty\n        const fallbackSlugs = ['treno-lucca-aulla', 'pisa-centrale', 'demo'];\n        const dbSlugs = tenants.map(t => t.slug);\n        const allSlugs = [...new Set([...dbSlugs, ...fallbackSlugs])];\n\n        return allSlugs.map(slug => ({ tenantSlug: slug }));\n    } catch (error) {\n        console.error('Error fetching tenants for static generation:', error);\n        // Fallback to hardcoded list if DB is unavailable\n        return [\n            { tenantSlug: 'treno-lucca-aulla' },\n            { tenantSlug: 'pisa-centrale' },\n            { tenantSlug: 'demo' }\n        ];\n    }\n}\n","import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":"2MAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,uSAAyS,EACtU,sEACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAuB,AAAvB,EACX,WAAa,MAAM,AAAI,MAAM,mRAAqR,EAClT,kDACA,+NCLJ,EAAA,EAAA,CAAA,CAAA,OCAA,EAAA,EAAA,CAAA,CAAA,OAMO,IAAM,EAJW,AAIF,WAAgB,MAAM,EAAI,IAAI,EAAA,YAAY,CDHjD,SAAS,IACpB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAgB,CAAA,CAAA,EAC5B,CAMO,eAAe,IAClB,GAAI,CACA,IAMM,EANA,AAMU,CANA,MAAM,EAAO,MAAM,CAAC,QAAQ,CAAC,CACzC,OAAQ,CAAE,MAAM,CAAK,CACzB,EAAA,EAIwB,GAAG,CAAC,GAAK,EAAE,IAAI,EAGvC,MAFiB,AAEV,IAFc,IAAI,IAAI,IAAI,EAFV,oBAAqB,gBAAiB,OAEF,EAAE,CAE7C,GAAG,CAAC,IAAS,CAAE,EAAH,SAAe,EAAK,CAAC,CACrD,CAAE,MAAO,EAAO,CAGZ,OAFA,QAAQ,KAAK,CAAC,gDAAiD,GAExD,CACH,CAAE,WAAY,mBAAoB,EAClC,CAAE,WAAY,eAAgB,EAC9B,CAAE,WAAY,MAAO,EACxB,AACL,CACJ,yCAxB6B","ignoreList":[0]}