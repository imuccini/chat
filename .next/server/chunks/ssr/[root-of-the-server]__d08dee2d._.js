module.exports=[70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},66879,a=>{"use strict";var b=a.i(63021);let c=globalThis.prisma??new b.PrismaClient;a.s(["prisma",0,c])},4651,a=>{"use strict";var b=a.i(66879);let c=async a=>await b.prisma.tenant.findFirst({where:{devices:{some:{nasId:a}}}}),d=async a=>await b.prisma.tenant.findUnique({where:{slug:a}}),e=async(a,c=50)=>await b.prisma.message.findMany({where:{tenantId:a},orderBy:{createdAt:"desc"},take:c,include:{user:!0}});a.s(["getMessages",0,e,"getTenantByNasId",0,c,"getTenantBySlug",0,d])},50708,a=>{"use strict";var b=a.i(7997),c=a.i(4651);a.i(70396);var d=a.i(73727);async function e(a){let e=(await a.searchParams).nas_id;if("string"==typeof e){let a=await (0,c.getTenantByNasId)(e);if(!a)return(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-gray-100 p-4",children:(0,b.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Accesso Negato"}),(0,b.jsx)("p",{className:"text-gray-700",children:"La chat in questo spazio non e' attiva."}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-4",children:["ID Router non riconosciuto: ",e]})]})});(0,d.redirect)(`/${a.slug}`)}return(0,b.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"Benvenuto su Treno Chat"}),(0,b.jsx)("p",{className:"mb-4",children:"Per accedere, connettiti al Wi-Fi del treno."})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d08dee2d._.js.map